---
Book: "片上互连网络"
Chapter : 4
Summary: "路由"
---
路由有三种：
- 确定性路由。noc里常用dimension order routing(DOR)，就是先在一个维度上走到头，再在一个维度上走到头。
- 无关路由。随机
- 自适应路由

为了避免死锁，DOR可以去掉一些可行的走法
![[Pasted image 20230825160325.png]]

无关路由可以让负载更均衡一些。比如Valiant’s routing algorithm，就是先随机选取一个中间节点，随机选到后再用DOR的方式过去。这样负载可以更均衡。
随机选取的中间节点可以在最短路径范围内，也可以在其外。如果在最短路径范围外，跳数会增大，但负载会更均衡
![[Pasted image 20230825160629.png]]

自适应路由有很多种，需要配合流控制来实现
为了防止死锁，可以ban掉一些转向，比如下面三种：
![[Pasted image 20230825165203.png]]
但这三种都会出现某个情况下只有一种路由选择，比如negative first中，下图就会只有一种路由选择
![[Pasted image 20230825165331.png]]
因此整出了奇偶转向，偶数行和奇数行分别ban掉两种转向


==多播没搞懂==

