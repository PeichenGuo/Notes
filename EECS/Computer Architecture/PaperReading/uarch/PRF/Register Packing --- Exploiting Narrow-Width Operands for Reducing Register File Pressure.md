---
Author: "O. Ergin"
Year: 2004
Journel/Conference: "MICRO"
Summary: "把长度较小的数据pack到同一个preg里，从而减少prf大小。提出了两种pack方法"
Rate: 3
Question: "None"
Eureka: "None"
---
### Abstract
很多数据是很短的，有很多位是没有用的，比如int i = 1，只有1位有效，其他都是没意义的位。
本文吧短数据pack到register中，从而让多个数据共享一个preg，从而减少prf大小。

有两种方法：
1. 保守法：先allocate一个full preg，如果result不是full的，就reallocate
2. 预测法：预测其大小，如果预测的小了，就更改预测并重新执行。

能在spec2000上提供一个15%的性能提升

### Motivation
定义width，数据的第一个无效0开始，到最高位的0，这些0是无效数据，width指有效数据位数
![[Pasted image 20230416142424.png]]
在spec2000中，
大概有40%可以用16bit表示，45%可以用32bit表示，而只有15%左右需要64bit。

并且这个宽度是高度可预测的。
本文通过给icache的每个entry加2bit，分别预测其长度在0-16，16-32，32-48，48-64中哪个区间。
![[Pasted image 20230416142647.png]]
如果把预测过大当做错误prediction，有约94%正确率；把预测过大当做正确prediction，有98%正确率。很可以的

### Solution
把一个64bit preg分成4段，访问一个preg需要pid+4bit mask
有四个free list，分别代表有1-4段free的片段。
allocate的时候先从低的freelist开始往上找。（时序变差）

==具体实现没看==

### Evaluation
==没看==


### Unsolved Question


### Related Works
#### Later Works

#### Previous Works

#### Similar Works
