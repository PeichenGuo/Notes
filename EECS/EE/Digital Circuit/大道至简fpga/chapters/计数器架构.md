---
Chapter: 1
---

# 计数器架构八步法
## 计数器规则
mdy规定了怎么写计数器
1. 计数器三要素：初值，加一条件和结束值
2. 计数值初值必须为0
3. 使用某一个计数值，介意条件必须满足。比如想考虑计数到第五个的时候，应该是 （加一条件）&& （cnt == 5 - 1）
4. 结束条件必须同时满足加一条件，而且结束值必须是x-1形式
5. 取数时，assign形式必须是（加一条件） && （cnt == x - 1）。其实是为了避免初学者不习惯从0计数
6. 结束后计数器回到0
7. 如果需要范围限定，使用>=和<， 比如cnt >= 0, cnt < 8。个人认为不如使用<= 和 <，反正都是左闭右开。
8. 设计步骤：先写always，条件用名字代替，然后用assign写出加一规则和结束条件
9. 加一规则必须与计数器严格对其，其他信号也一律和计数器对齐
10. 明明必须符合规范
11. 减1计数器展示不考虑。

计数器实际上就是简单的一个fsm
## 八步法
mdy规定了计数器架构的八步法
1. 明确功能：各个io做什么
2. 画出功能波形：做之前要想明白功能波形是什么样的
3. 做出计数结构。技术结构是多个计数器做成的框架，做出其他型号的对齐条件。
4. 设计加一条件和结束条件。
5. 定义特殊点：一般是波形的变化的点和计数器开始结束的点。
6. 完整性检查：检查各个信号变高变低的条件。只要这里是完整的，代码也会是完整的
7. 写计数器代码
8. 写功能代码

